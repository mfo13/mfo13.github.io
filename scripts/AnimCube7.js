"use strict";function AnimCube7(e){var t,r,n,o,a,l,f,i,u,h,c,s,v,d,g,b,m,M,p,k,L,R,F,y,D,w,B,T,S,A,U,x,E,I,P,C,X,W,Y,z,q,O,Q,Z,N,H,G,K,j,J=[],V=[],$=[],_=[],ee=[],te=[],re=[[0,-1,0],[0,1,0],[0,0,-1],[0,0,1],[-1,0,0],[1,0,0]],ne=[[-1,-1,-1],[1,-1,-1],[1,-1,1],[-1,-1,1],[-1,1,-1],[1,1,-1],[1,1,1],[-1,1,1]],oe=[[0,1,2,3],[4,7,6,5],[0,4,5,1],[2,6,7,3],[0,3,7,4],[1,5,6,2]],ae=[[0,3,2,1],[0,3,2,1],[3,2,1,0],[3,2,1,0],[0,3,2,1],[0,3,2,1]],le=[[2,5,3,4],[4,3,5,2],[4,1,5,0],[5,1,4,0],[0,3,1,2],[2,1,3,0]],fe=[1,1,-1,-1,-1,-1],ie=[0,0,-1],ue=[1,0,0],he=[],ce=[],se=[],ve=[],de=!0,ge=[],be=[],me=[],Me=[],pe=[],ke=!0,Le=-1,Re=6,Fe=12,ye=!0,De=!1,we=!1,Be=!1,Te=0,Se=0,Ae=0,Ue=0,xe=[3,2,0,5,1,4],Ee=[[42,35,28,21,14,7,0,43,36,29,22,15,8,1,44,37,30,23,16,9,2,45,38,31,24,17,10,3,46,39,32,25,18,11,4,47,40,33,26,19,12,5,48,41,34,27,20,13,6],[6,13,20,27,34,41,48,5,12,19,26,33,40,47,4,11,18,25,32,39,46,3,10,17,24,31,38,45,2,9,16,23,30,37,44,1,8,15,22,29,36,43,0,7,14,21,28,35,42],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],[42,35,28,21,14,7,0,43,36,29,22,15,8,1,44,37,30,23,16,9,2,45,38,31,24,17,10,3,46,39,32,25,18,11,4,47,40,33,26,19,12,5,48,41,34,27,20,13,6],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]];function Ie(){var e=Ce("config");null!=e?function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&(200==t.status?function(e){for(var t=e.split("\n"),r=0;r<t.length;r++){var n=t[r].split("=");void 0!==n[1]&&(J[n[0]]=n[1].trim())}}(t.responseText):console.log("Error loading config file: "+e),Pe())},t.open("GET",e,!0),t.send()}(e):Pe()}function Pe(){V[0]=Jr(255,128,64),V[1]=Jr(255,0,0),V[2]=Jr(0,255,0),V[3]=Jr(0,0,255),V[4]=Jr(153,153,153),V[5]=Jr(170,170,68),V[6]=Jr(187,119,68),V[7]=Jr(153,68,68),V[8]=Jr(68,119,68),V[9]=Jr(0,68,119),V[10]=Jr(255,255,255),V[11]=Jr(255,255,0),V[12]=Jr(255,96,32),V[13]=Jr(208,0,0),V[14]=Jr(0,144,0),V[15]=Jr(32,64,208),V[16]=Jr(176,176,176),V[17]=Jr(80,80,80),V[18]=Jr(255,0,255),V[19]=Jr(0,255,255),V[20]=Jr(255,160,192),V[21]=Jr(32,255,16),V[22]=Jr(0,0,0),V[23]=Jr(128,128,128);var e=Ce("bgcolor");if(t=null!=e&&6==e.length&&$r(e)?"#"+e:"gray",e=Ce("butbgcolor"),o=null!=e&&6==e.length&&$r(e)?"#"+e:t,null!=(e=Ce("colors")))for(var u=0;u<10&&u<e.length/6;u++)$r(e.substring(6*u,6*u+6))&&(V[u]="#"+e.substring(6*u,6*u+6));for(u=0;u<6;u++)for(var h=0;h<49;h++)$[u][h]=u+10;if(null!=(e=Ce("supercube"))&&"1"==e){we=!0,Xe(.06);for(u=0;u<49;u++)$[0][u]=22;null!=(e=Ce("scw"))&&("1"==e?Ae=1:"2"==e&&(Ae=2)),1==Ae&&(V[10]="#000000")}if(null!=(e=Ce("gabbacolors"))&&"1"==e&&(1==we?(V[11]="#fdcf00",V[12]="#fd4e0a",V[13]="#93000d",V[14]="#00702d",V[15]="#00347a"):(Xe(.06),V[11]="#ffd90a",V[12]="#ff4f0b",V[13]="#9e0b19",V[14]="#0b7d39",V[15]="#0b4186")),null!=(e=Ce("borderwidth"))){for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(Ue=10*Ue+parseInt(e[u]));Ue>=0&&Ue<=20&&Xe(Ue/100)}if(we)for(u=0;u<6;u++)for(h=0;h<49;h++)_[u][h]=0;var c="lluu";if(null!=(e=Ce("colorscheme"))&&6==e.length)for(u=0;u<6;u++){var s=23;for(h=0;h<23;h++)if(e[u].toLowerCase()=="0123456789wyorgbldmcpnk".charAt(h)){s=h;break}for(h=0;h<49;h++)$[u][h]=s}if("1"==(e=Ce("scramble"))?Te=1:"2"==e&&(Te=2),0==Te){if(null!=(e=Ce("pos"))&&294==e.length){c="uuuuff","gray"==t&&(t="white");for(u=0;u<6;u++){var g=xe[u];for(h=0;h<49;h++){var b=Ee[u][h];$[g][b]=23;for(var m=0;m<14;m++)if(e.charAt(49*u+h)=="DFECABdfecabgh".charAt(m)){$[g][b]=m+4;break}}}}if(null!=(e=Ce("facelets"))&&294==e.length)for(u=0;u<6;u++)for(h=0;h<49;h++){$[u][h]=23;for(m=0;m<23;m++)if(e[49*u+h].toLowerCase()=="0123456789wyorgbldmcpnk".charAt(m)){$[u][h]=m;break}}if(null!=(e=Ce("superfacelets"))&&294==e.length)for(u=0;u<6;u++)for(h=0;h<49;h++)for(m=0;m<4;m++)if(e[49*u+h].toLowerCase()=="0123".charAt(m)){_[u][h]=m;break}}if(H=0,j=!1,K=!1,null!=(e=Ce("sign"))&&"1"==e&&(K=!0,H=5,j=!0),null!=(e=Ce("yz"))&&("0"==e?j=!1:"1"==e&&(j=!0)),null!=(e=Ce("randmoves"))){var M=0;for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(M=10*M+parseInt(e[u]));M>0&&(Se=M)}("random"==(e=Ce("move"))||Te>0)&&(e=zn(7,Se)),ge=null==e?[]:ze(e,!0),X=0,O=-1,0==Te&&(null!=(e=Ce("initmove"))&&("random"==e&&(e=zn(7,Se)),me="#"==e?ge:ze(e,!1)),null!=(e=Ce("initrevmove"))&&("random"==e&&(e=zn(7,Se)),Me="#"==e?ge:ze(e,!1)),null!=(e=Ce("demo"))&&("random"==e&&(e=zn(7,Se)),(be="#"==e?ge:ze(e,!0)).length>0&&be[0].length>0&&(w=!0))),e=Ce("position"),qr(Hr(he,ie,ue)),null==e&&(e=c);var R=Math.PI/12;for(u=0;u<e.length;u++){var F=R;switch(e[u].toLowerCase()){case"d":F=-F;case"u":Kr(ie,F),Kr(ue,F);break;case"f":F=-F;case"b":jr(ie,F),jr(ue,F);break;case"l":F=-F;case"r":Gr(ie,F),Gr(ue,F)}}if(qr(Hr(he,ie,ue)),v=0,d=0,null!=(e=Ce("speed")))for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(v=10*v+parseInt(e[u]));if(null!=(e=Ce("doublespeed")))for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(d=10*d+parseInt(e[u]));if(0==v&&(v=10),0==d&&(d=3*v/2),B=0,null==(e=Ce("perspective")))B=2;else for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(B=10*B+parseInt(e[u]));var y,D=0;if(null!=(e=Ce("scale")))for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(D=10*D+parseInt(e[u]));if(T=1/(1+D/10),A=!1,null!=(e=Ce("hint"))){A=!0,U=0;for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(U=10*U+parseInt(e[u]));U<1?A=!1:U/=10}(x=3.7,null!=(e=Ce("hinthoriz")))&&((y=parseFloat(e))>0&&(x=y));(E=3.7,null!=(e=Ce("hintvert")))&&((y=parseFloat(e))>0&&(E=y));(I=0,null!=(e=Ce("hintborder"))&&"1"==e&&(I=1),Z=13,null!=(e=Ce("buttonheight")))&&((y=parseInt(e))>=9&y<=25&&(Z=y));(Re=0==ge.length?0:6,Q=1,"0"==(e=Ce("buttonbar"))?(Q=0,Z=0,Re=0):"1"==e?Q=1:"2"!=e&&0!=ge.length||(Q=2,Re=0),e=Ce("edit"),p="0"!=e,e=Ce("repeat"),k="0"!=e,e=Ce("clickprogress"),L="0"!=e,"1"==(e=Ce("movetext"))?H=1:"5"==e&&(H=5),G=1,"0"==(e=Ce("movetextspace"))&&(G=0),null!=(e=Ce("textsize")))&&((y=parseInt(e))>=5&y<=40&&(Fe=y));(e=Ce("fonttype"),ye=null==e||"1"==e,q=0,null!=(e=Ce("metric"))&&("1"==e?q=1:"2"==e?q=2:"3"==e&&(q=3)),S=1,null!=(e=Ce("align")))&&((y=parseInt(e))>=0&y<=3&&(S=y),y>=3&y<=99&&(S=y/100));null!=(e=Ce("snap"))&&"1"==e&&(De=!0);for(u=0;u<6;u++)for(h=0;h<49;h++)ee[u][h]=$[u][h],te[u][h]=_[u][h];me.length>0&&tt($,me[0],0,me[0].length,!1),Me.length>0&&tt($,Me[0],0,Me[0].length,!0),2==Te&&tt($,ge[0],0,ge[0].length,!0);for(u=0;u<3;u++)ce[u]=ie[u],se[u]=ue[u],ve[u]=he[u];vn(t)<128?(n="white",r=function(e){"#"!=e.substring(0,1)&&(e=sn(e));var t=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),n=parseInt(e.substring(5,7),16);return t=Math.floor(1.3*t),r=Math.floor(1.3*r),n=Math.floor(1.3*n),Jr(t>255?255:t,r>255?255:r,n>255?255:n)}(t)):(n="black",r=dn(t)),f=vn(o)<128?"white":"black",a=n,null!=(e=Ce("slidercolor"))&&6==e.length&&$r(e)&&(a="#"+e),l=dn(t),null!=(e=Ce("sliderbgcolor"))&&6==e.length&&$r(e)&&(l="#"+e),null!=(e=Ce("troughcolor"))&&6==e.length&&$r(e)&&(l="#"+e),i="black",null!=(e=Ce("cubecolor"))&&6==e.length&&$r(e)&&(i="#"+e),P=1,"0"==(e=Ce("counter"))&&(P=0),O=ge.length>0&&ge[0][0]>=1e3?0:-1,wn=Dn.getContext("2d"),An=Z,Un=Re,xn=Fe,Yn(),En.appendChild(Dn),Lr(),w&&ot(-1)}function Ce(e){var t=qn[e];return void 0===t?J[e]:t}function Xe(e){Sr[0][0]=Sr[0][1]=Sr[1][1]=Sr[3][0]=e,Sr[1][0]=Sr[2][0]=Sr[2][1]=Sr[3][1]=1-e}var We=[0,0,0,0,0,0,7,7,7,3,3,3,3,3,3,2,2,2,2,2,2],Ye=[0,1,2,3,4,5,1,2,4,5,2,0,5,2,0,0,1,2,3,4,5];function ze(e,t){if(t){for(var r=e.indexOf("{");-1!=r;)0,r=e.indexOf("{",r+1);if(null==pe)O=0,pe=[];else{for(var n=[],o=0;o<pe.length;o++)n[o]=pe[o];O=pe.length,pe=n}}var a=1;for(r=e.indexOf(";");-1!=r;)a++,r=e.indexOf(";",r+1);var l=[],f=0;for(r=e.indexOf(";"),a=0;-1!=r;)l[a]=Oe(e.substring(f,r),t,a++),f=r+1,r=e.indexOf(";",f);return l[a]=Oe(e.substring(f),t,a),l}var qe=["n","t","c","s","a","o","m"];function Oe(e,t,r){if(K&&(e=function(e){return e=Ze(e=Ze(e=Ze(e,2,"n"),3,"o"),4,"m")}(e)),"#"==e.trim()&&void 0!==ge[r])return ge[r];var n=0,o=[],a="UDFBLRESMXYZxyzudfblr";1==j&&(a="UDFBLRESMXZYxzyudfblr");for(var l=0;l<e.length;l++)if("."==e.charAt(l))o[n]=-1,n++;else if("{"==e.charAt(l)){l++;for(var f="";l<e.length&&"}"!=e.charAt(l);)t&&(f+=e.charAt(l)),l++;t&&(pe[O]=f,o[n]=1e3+O,O++,n++)}else for(var i=0;i<21;i++)if(e.charAt(l)==a.charAt(i)){l++;var u=We[i];if(o[n]=4*Ye[i]*(qe.length+1),l<e.length&&0==We[i])for(var h=0;h<qe.length;h++)if(e.charAt(l)==qe[h]){u=h+1,l++;break}o[n]+=4*u,l<e.length&&("1"==e.charAt(l)?l++:"'"==e.charAt(l)||"3"==e.charAt(l)?(o[n]+=2,l++):"2"==e.charAt(l)&&(++l<e.length&&"'"==e.charAt(l)?(o[n]+=3,l++):o[n]+=1)),n++,l--;break}return o}var Qe=["U","D","F","B","L","R"];function Ze(e,t,r){for(var n=0;n<6;n++){var o=new RegExp(t+Qe[n],"g");e=e.replace(o,Qe[n]+r)}return e}function Ne(e,t,r){if(t>=e.length)return"";for(var n="",o=t;o<r;o++){var a=Ke(e,o);""!=a&&(n+=a+(G?" ":""))}return n}var He=[[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["Ut","Dt","Ft","Bt","Lt","Rt"],["Uc","Dc","Fc","Bc","Lc","Rc"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["Uo","Do","Fo","Bo","Lo","Ro"],["Um","Dm","Fm","Bm","Lm","Rm"]],[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["u","d","f","b","l","r"],["Z","~Z","Y","~Y","~X","X"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["Uo","Do","Fo","Bo","Lo","Ro"],["~E","E","S","~S","M","~M"]],[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["u","d","f","b","l","r"],["Y","~Y","Z","~Z","~X","X"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["Uo","Do","Fo","Bo","lo","Ro"],["~E","E","S","~S","M","~M"]],[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["Uu","Dd","Ff","Bb","Ll","Rr"],["QU","QD","QF","QB","QL","QR"],["UD'","DU'","FB'","BF'","LR'","RL'"],["UD","DU","FB","BF","LR","RL"],["Uo","Do","Fo","Bo","Lo","Ro"],["u","d","f","b","l","r"]],[["U","D","F","B","L","R"],["2U","2D","2F","2B","2L","2R"],["u","d","f","b","l","r"],["y","~y","z","~z","~x","x"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["3U","3D","3F","3B","3L","3R"],["~E","E","S","~S","M","~M"]]],Ge=["","2","'","2'"];function Ke(e,t){if(t>=e.length)return"";if(e[t]>=1e3)return"";if(-1==e[t])return".";var r=He[H-1][Math.floor(e[t]/4)%(qe.length+1)][Math.floor(e[t]/4/(qe.length+1))];return"~"==r.charAt(0)?r.substring(1)+Ge[(e[t]+2)%4]:r+Ge[e[t]%4]}var je=["","q","h","s"];function Je(e){for(var t=0,r=0;r<e.length;r++)e[r]<1e3&&t++;return t}function Ve(e,t){for(var r=0,n=0;;){for(;r<e.length&&e[r]>=1e3;)r++;if(n==t)break;r<e.length&&(n++,r++)}return r}function $e(e,t){for(var r=0,n=0;n<e.length&&(n<t||t<0);n++)r+=_e(e[n]);return r}function _e(e){if(e<0||e>=1e3)return 0;var t=e%4,r=Math.floor(e/4)%(qe.length+1),n=1;switch(q){case 1:1!=t&&3!=t||(n*=2);case 2:(1==r||r>3)&&(n*=2);case 3:3==r&&(n=0),3!=q||4!=r&&5!=r||(n*=2)}return n}function et(e){O=e.length>0&&e[0]>=1e3?e[0]-1e3:-1}function tt(e,t,r,n,o){for(var a=o?r+n:r;;){if(o){if(a<=r)break;a--}if(t[a]>=1e3)O=o?-1:t[a]-1e3;else if(t[a]>=0){var l=t[a]%4+1,f=Math.floor(t[a]/4)%(qe.length+1);4==l&&(l=2),o&&(l=4-l),Dt(e,Math.floor(t[a]/4/(qe.length+1)),l,f)}if(!o&&++a>=r+n)break}}var rt=0,nt=0;function ot(e){if(at(),(w||0!=ge.length&&0!=ge[C].length)&&(!w||0!=be.length&&0!=be[0].length)){switch(W=1,Y=!1,z=!0,e){case 0:break;case 1:W=-1;break;case 2:Y=!0;break;case 3:W=-1,Y=!0;break;case 4:z=!1}gn(rt++,W)}}function at(){1==y&&(m=!0)}function lt(){X=0,de=!0,M=!1;for(var e=0;e<6;e++)for(var t=0;t<49;t++)$[e][t]=ee[e][t],_[e][t]=te[e][t];me.length>0&&void 0!==me[C]&&tt($,me[C],0,me[C].length,!1),Me.length>0&&void 0!==Me[C]&&tt($,Me[C],0,Me[C].length,!0),ge.length>0&&et(ge[C]),Te>0&&(ge=ze(zn(7,Se),!1)),2==Te&&tt($,ge[0],0,ge[0].length,!0);for(e=0;e<3;e++)ie[e]=ce[e],ue[e]=se[e],he[e]=ve[e];setTimeout(Lr,0)}var ft=[[[0,7],[0,7]],[[0,7],[0,7]],[[0,7],[0,7]],[[0,7],[0,7]],[[0,7],[0,7]],[[0,7],[0,7]]],it=[],ut=[],ht=[],ct=[],st=[],vt=[],dt=[],gt=[[[0,0],[0,0]],[[0,7],[0,7]],[[0,7],[0,1]],[[0,1],[0,7]],[[0,7],[6,7]],[[6,7],[0,7]]],bt=[[1,0,3,3,2,3],[0,1,5,5,4,5],[2,3,1,0,3,2],[4,5,0,1,5,4],[3,2,2,4,1,0],[5,4,4,2,0,1]],mt=[[0,1,5,5,4,5],[1,0,3,3,2,3],[4,5,0,1,5,4],[2,3,1,0,3,2],[5,4,4,2,0,1],[3,2,2,4,1,0]],Mt=[[[0,0],[0,0]],[[0,7],[1,2]],[[1,2],[0,7]],[[0,7],[5,6]],[[5,6],[0,7]],[[0,7],[2,3]],[[2,3],[0,7]],[[0,7],[4,5]],[[4,5],[0,7]],[[0,7],[3,4]],[[3,4],[0,7]]],pt=[[0,0,2,2,1,2],[0,0,4,4,3,4],[1,2,0,0,2,1],[3,4,0,0,4,3],[2,1,1,3,0,0],[4,3,3,1,0,0]],kt=[[0,0,6,6,5,6],[0,0,8,8,7,8],[5,6,0,0,6,5],[7,8,0,0,8,7],[6,5,5,7,0,0],[8,7,7,5,0,0]],Lt=[[0,0,10,10,9,10],[0,0,10,10,9,10],[9,10,0,0,10,9],[9,10,0,0,10,9],[10,9,9,9,0,0],[10,9,9,9,0,0]],Rt=[[0,0,8,8,7,8],[0,0,6,6,5,6],[7,8,0,0,8,7],[5,6,0,0,6,5],[8,7,7,5,0,0],[6,5,5,7,0,0]],Ft=[[0,0,4,4,3,4],[0,0,2,2,1,2],[3,4,0,0,4,3],[1,2,0,0,2,1],[4,3,3,1,0,0],[2,1,1,3,0,0]];function yt(e){for(var t=0;t<6;t++)it[t]=gt[bt[e][t]],dt[t]=gt[mt[e][t]],ut[t]=Mt[pt[e][t]],ht[t]=Mt[kt[e][t]],ct[t]=Mt[Lt[e][t]],st[t]=Mt[Rt[e][t]],vt[t]=Mt[Ft[e][t]];de=!1}function Dt(e,t,r,n){switch(n){case 2:It(e,t,4-r,0),It(e,t,4-r,1);break;case 3:It(e,t,4-r,0),It(e,t,4-r,1),It(e,t,4-r,6),It(e,t,4-r,7),It(e,1^t,r,6),It(e,1^t,r,1),It(e,1^t,r,0);break;case 4:It(e,t,4-r,0),It(e,1^t,r,0);break;case 5:It(e,1^t,4-r,0),It(e,t,4-r,0);break;default:It(e,t,4-r,n)}}var wt=[0,1,2,3,4,5,6,13,20,27,34,41,48,47,46,45,44,43,42,35,28,21,14,7],Bt=[8,9,10,11,12,19,26,33,40,39,38,37,36,29,22,15],Tt=[16,17,18,25,32,31,30,23],St=[1,7,-1,-7,1,7,-1,-7],At=[0,6,48,42,7,5,41,43,14,4,34,44,21,3,27,45],Ut=[[3,3,3,0],[2,1,1,1],[3,3,0,0],[2,1,1,2],[3,2,0,0],[2,2,0,1]],xt=[[7,7,7,4],[6,5,5,5],[7,7,4,4],[6,5,5,6],[7,6,4,4],[6,6,4,5]],Et=[];function It(e,t,r,n){Pt(e,t,r,n),1==we&&r>0&&r<4&&(Pt(_,t,r,n),function(e,t,r){if(7==r)return 4==e&&(Zt(21,1,3),1==t?Zt(21,1,1):2==t?Zt(21,1,2):3==t&&Zt(3,7,0)),5==e&&(Zt(21,1,3),1==t?Zt(3,7,0):2==t?Zt(21,1,2):3==t&&Zt(21,1,1)),2==e&&Nt(6,4-t),void(3==e&&Nt(6,t));if(6==r)return 4==e&&(Zt(28,1,3),1==t?Zt(14,1,1):2==t?Zt(14,1,2):3==t&&Zt(2,7,0)),5==e&&(Zt(14,1,3),1==t?Zt(4,7,0):2==t?Zt(28,1,2):3==t&&Zt(28,1,1)),2==e&&Nt(4,4-t),void(3==e&&Nt(5,t));var n=1==r;if(0==n)for(var o=0;o<49;o++)_[e][o]=(_[e][o]+4-t)%4;4==e&&(0==n&&(Zt(42,1,3),1==t?Zt(0,1,1):2==t?Zt(0,1,2):3==t&&Zt(0,7,0)),1==n&&(Zt(35,1,3),1==t?Zt(7,1,1):2==t?Zt(7,1,2):3==t&&Zt(1,7,0)));5==e&&(0==n&&(Zt(0,1,3),1==t?Zt(6,7,0):2==t?Zt(42,1,2):3==t&&Zt(42,1,1)),1==n&&(Zt(7,1,3),1==t?Zt(5,7,0):2==t?Zt(35,1,2):3==t&&Zt(35,1,1)));0==n&&(2==e&&Nt(0,4-t),3==e&&Nt(1,t));1==n&&(2==e&&Nt(2,4-t),3==e&&Nt(3,t))}(t,r,n))}function Pt(e,t,r,n){if(!n){for(var o=0;o<24;o++)Et[(o+6*r)%24]=e[t][wt[o]];for(o=0;o<24;o++)e[t][wt[o]]=Et[o];for(o=0;o<16;o++)Et[(o+4*r)%16]=e[t][Bt[o]];for(o=0;o<16;o++)e[t][Bt[o]]=Et[o];for(o=0;o<8;o++)Et[(o+2*r)%8]=e[t][Tt[o]];for(o=0;o<8;o++)e[t][Tt[o]]=Et[o]}var a=7*r;for(o=0;o<4;o++)for(var l=le[t][o],f=n?xt[t][o]:Ut[t][o],i=St[f],u=n>1?n>6?At[f+8]:At[f+4]:At[f],h=0;h<7;h++,a++)Et[a%28]=e[l][h*i+u];for(o=0,a=0;o<4;o++)for(l=le[t][o],f=n?xt[t][o]:Ut[t][o],i=St[f],u=n>1?n>6?At[f+8]:At[f+4]:At[f],h=0;h<7;h++,a++)e[l][h*i+u]=Et[a]}var Ct,Xt,Wt,Yt,zt,qt,Ot,Qt=[[[0,1,0],[0,7,1],[0,7,4],[0,1,5]],[[42,1,0],[6,7,1],[6,7,4],[42,1,5]],[[7,1,0],[1,7,1],[1,7,4],[7,1,5]],[[35,1,0],[5,7,1],[5,7,4],[35,1,5]],[[14,1,0],[2,7,1],[2,7,4],[14,1,5]],[[28,1,0],[4,7,1],[4,7,4],[28,1,5]],[[21,1,0],[3,7,1],[3,7,4],[21,1,5]]];function Zt(e,t,r){for(var n=e,o=0;o<7;n+=t,o++)_[r][n]=(_[r][n]+2)%4}function Nt(e,t){for(var r=0;r<4;r++)for(var n=Qt[e][r],o=n[0],a=0;a<7;o+=n[1],a++)_[n[2]][o]=(_[n[2]][o]+t)%4}var Ht,Gt,Kt=[],jt=[],Jt=[],Vt=[],$t=[[[0,0],[7,0],[7,1],[0,1]],[[7,0],[7,7],[6,7],[6,0]],[[7,7],[0,7],[0,6],[7,6]],[[0,7],[0,0],[1,0],[1,7]],[[0,1],[7,1],[7,2],[0,2]],[[5,0],[6,0],[6,7],[5,7]],[[0,5],[7,5],[7,6],[0,6]],[[1,0],[2,0],[2,7],[1,7]],[[0,2],[7,2],[7,3],[0,3]],[[4,0],[5,0],[5,7],[4,7]],[[0,4],[7,4],[7,5],[0,5]],[[2,0],[3,0],[3,7],[2,7]],[[0,4],[0,3],[7,3],[7,4]],[[4,0],[3,0],[3,7],[4,7]]],_t=[[1,0],[0,1],[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0],[0,1]],er=[[1,1,1,1,1,1,1,1,1,1,1,1,1,-1],[1,1,1,1,1,1,1,1,1,1,1,1,1,-1],[1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,1],[1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,-1,1],[-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,-1],[1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,1]],tr=[],rr=[],nr=[[[1,0,0],[0,0,0],[0,0,1]],[[1,0,0],[0,1,0],[0,0,0]],[[0,0,0],[0,1,0],[0,0,1]]],or=[[[0,0,1],[0,0,0],[-1,0,0]],[[0,1,0],[-1,0,0],[0,0,0]],[[0,0,0],[0,0,1],[0,-1,0]]],ar=[[[0,0,0],[0,1,0],[0,0,0]],[[0,0,0],[0,0,0],[0,0,1]],[[1,0,0],[0,0,0],[0,0,0]]],lr=[1,-1,1,-1,1,-1],fr=[],ir=[],ur=[],hr=[],cr=[],sr=[],vr=[],dr=[],gr=[],br=[],mr=[[1,0,0,0,0,0,0],[0,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,2],[0,0,1,0,0,0,0],[0,0,0,1,0,0,0]],Mr=[],pr=[[0,2,2,2,2,2,2],[2,1,2,2,2,2,2],[2,2,2,2,2,2,2],[2,2,2,2,2,2,2],[0,2,2,2,2,2,0],[2,2,2,2,2,2,2],[2,2,6,2,2,2,2],[2,2,2,7,2,2,2]],kr=[[0,1,2,3,4,5,6],[0,1,2,3,4,6,5],[0,1,2,3,6,5,4],[0,1,2,6,5,4,3],[0,1,6,5,4,3,2],[0,6,5,4,3,2,1],[6,5,4,3,2,1,0]];function Lr(){if(wn.save(),wn.fillStyle=t,1!=Q||0!=Re&&!w&&0!=ge[C].length?(_r(wn,0,0,Ct,Xt),wn.fillRect(0,0,Ct,Xt)):(_r(wn,0,0,Ct,Xt-Bn),wn.fillRect(0,0,Ct,Xt-Bn)),Ot=0,de)xr(ie,ue,he,ft,3,9,0);else{for(var e=Math.cos(s+c),n=Math.sin(s+c)*lr[u],i=0;i<3;i++){fr[i]=0,ir[i]=0;for(var v=0;v<3;v++){var d=Math.floor(u/2);fr[i]+=ie[v]*(ar[d][i][v]+nr[d][i][v]*e+or[d][i][v]*n),ir[i]+=ue[v]*(ar[d][i][v]+nr[d][i][v]*e+or[d][i][v]*n)}}Hr(ur,fr,ir);var g,b,m,M=Math.cos(s-c),p=Math.sin(s-c)*lr[u];for(i=0;i<3;i++){hr[i]=0,cr[i]=0;for(v=0;v<3;v++){d=Math.floor(u/2);hr[i]+=ie[v]*(ar[d][i][v]+nr[d][i][v]*M+or[d][i][v]*p),cr[i]+=ue[v]*(ar[d][i][v]+nr[d][i][v]*M+or[d][i][v]*p)}}Hr(sr,hr,cr),dr[0]=ie,gr[0]=ue,br[0]=he,dr[1]=fr,gr[1]=ir,br[1]=ur,dr[2]=hr,gr[2]=cr,br[2]=sr,Mr[0]=it,Mr[1]=ut,Mr[2]=ht,Mr[3]=ct,Mr[4]=st,Mr[5]=vt,Mr[6]=dt;var k=[],L=[];for(i=0;i<8;i++)zr(L,re[u]),Or(zr(k,L),2/7),Nr(Or(zr(vr,ie),5+B),Nr(L,Or(k,i))),b=Qr(vr,re[u]),0==i?(b<0&&(g=0),b>0&&(g=6)):(b>0&&m<0||b<0&&m>0)&&(g=7-i,i=8),m=b;for(i=0;i<7;i++){v=kr[g][i];var R=mr[h][v],F=u%2==1?6-v:v;xr(dr[R],gr[R],br[R],Mr[v],pr[h][v],i,F)}}if(N||y||(Le=-1),!(Te>0&&2==Q)){if(!w&&ge.length>0){if(ge[C].length>0){if(Re>0){wn.lineWidth=Sn,wn.strokeStyle=f;var D=(Ct-2)*function(e,t){for(var r=0,n=0;n<t;n++)e[n]<1e3&&r++;return r}(ge[C],X)/Je(ge[C]);wn.fillStyle=l,wn.fillRect(Tn,Xt-Re-Tn,Ct-Bn,Re),wn.fillStyle=a,wn.fillRect(Tn,Xt-Re-Tn,D,Re),wn.beginPath(),wn.rect(Tn,Xt-Re-Tn,Ct-Bn,Re),wn.stroke()}wn.font="bold "+Fe+"px helvetica";var T=$e(ge[C],X)+"/"+$e(ge[C],-1)+je[q],S=wn.measureText(T).width,A=Ct-S-2,U=Xt-Re-Math.floor(4*Bn);H>0?(P&&Xr(wn,T,ye?A-Bn:A,U-Fe),function(e,t){var n=0==X?Ve(ge[C],X):X,o=Ne(ge[C],0,n),a=Ke(ge[C],n),l=Ne(ge[C],n+1,ge[C].length);G&&(""==a&&(o=o.substr(0,o.length-1)),""!=l&&(l=" "+l.substr(0,l.length-1)));var f=e.measureText(o).width,i=e.measureText(a).width,u=e.measureText(l).width,h=1;h+f+i+u>Ct&&(h=Math.min(1,Ct/2-f-i/2),h=Math.max(h,Ct-f-i-u-2));i>0&&(e.fillStyle=r,e.lineWidth=2,e.strokeStyle="black",e.beginPath(),xn<=14?e.fillRect(h+f-1,Xt-Re-Fe-Math.floor(4*Bn),i+2,Fe+Math.floor(3*Bn)):e.fillRect(h+f-1,Xt-Re-Fe-Math.floor(2*Bn),i+2,Fe+Math.floor(Bn)));f>0&&Xr(e,o,h,t);i>0&&Xr(e,a,h+f,t);u>0&&Xr(e,l,h+f+i,t)}(wn,U)):P&&Xr(wn,T,ye?A-Bn:A,U)}if(ge.length>1){wn.font="bold "+Fe+"px helvetica";T=C+1+"/"+ge.length,S=wn.measureText(T).width,A=Ct-S-2*Z-Math.floor(5*Bn);Xr(wn,T,A,Rr()),tn(wn,7,Ct-2*Z,0),tn(wn,8,Ct-Z,0)}}O>=0&&(wn.font="bold "+Fe+"px helvetica",Xr(wn,pe[O],ye?Bn:0,Rr()))}wn.restore(),ke&&0!=Q&&function(e){var t=Z%2==0?1:0;if(t+=Math.floor(Bn+.5)-1,2==Q)return e.fillStyle=0==Le||Te>0&&6==Le?dn(o):o,e.fillRect(Tn,Xt-Z,Z,Z),e.lineWidth=Sn,e.strokeStyle=f,e.beginPath(),e.rect(Tn,Xt-Z-Tn,Z,Z),e.stroke(),void tn(e,0,Z/2,Xt-(Z+1)/2-t);if(1==Q){for(var r=0,n=0;n<7;n++){var a=Math.floor((Ct-r)/(7-n));e.fillStyle=Le==n?dn(o):o,e.fillRect(r,Xt,a,Z),e.lineWidth=Sn,e.strokeStyle=f,e.beginPath(),0==n?e.rect(r+Tn,Xt-Tn,a-Bn,Z):e.rect(r-Tn,Xt-Tn,a,Z),e.stroke(),e.strokeStyle="black",tn(e,n,r+a/2,Xt+Z/2-t),r+=a}ke=!1}}(wn)}function Rr(){return xn<10?Math.floor(10*Bn):xn<12?Math.floor(12*Bn):xn<14?Math.floor(14*Bn):Fe}var Fr=[],yr=[],Dr=[],wr=[],Br=[[],[],[],[],[],[]],Tr=[[],[],[],[],[],[]],Sr=[[.1,.1],[.9,.1],[.9,.9],[.1,.9]],Ar=[[0,0],[0,1],[1,1],[1,0]],Ur=[];function xr(e,t,r,n,o,a,l){for(var f=0;f<8;f++){var h=(v=Ct<Xt?Ct:Xt-Re)/3.7*Qr(ne[f],t)*T,c=v/3.7*Qr(ne[f],r)*T;h/=1-(d=v/(5+B)*Qr(ne[f],e)*T)/v,c/=1-d/v,Dr[f]=Ct/2+h,wr[f]=0==S?(Xt-Re)/2*T-c:1==S?(Xt-Re)/2-c:2==S?Xt-Re-(Xt-Re)/2*T-c:(Xt-Re)*(S*(1-T)+T/2)-c}for(f=0;f<6;f++)for(var s=0;s<4;s++)Br[f][s]=Dr[oe[f][s]],Tr[f][s]=wr[oe[f][s]];if(A)for(f=0;f<6;f++)if(Nr(Or(zr(vr,e),5+B),re[f]),Qr(vr,re[f])<0){Or(zr(Ur,re[f]),U);var v,d;h=(v=Ct<Xt?Ct:Xt-Re)/x*Qr(Ur,t),c=v/E*Qr(Ur,r);h/=1-(d=v/(5+B)*Qr(Ur,e))/v,c/=1-d/v;var g=n[f][0][1]-n[f][0][0],b=n[f][1][1]-n[f][1][0];if(g>0&&b>0)for(var m=0,k=n[f][1][0];m<b;m++,k++)for(var L=0,R=n[f][0][0];L<g;L++,R++){for(s=0;s<4;s++)Ir(f,s,Fr,yr,R+Sr[s][0],k+Sr[s][1],M),Fr[s]=Math.floor(Fr[s]+(M?-h:h)),yr[s]=Math.floor(yr[s]-c);1==we?(ln(wn,Fr,yr,"#fdfdfd"),an(wn,Fr,yr,I?dn("#fdfdfd"):"#fdfdfd"),cn(wn,Fr,yr,f,_[f][7*k+R],V[$[f][7*k+R]])):(ln(wn,Fr,yr,V[$[f][7*k+R]]),an(wn,Fr,yr,I?dn(V[$[f][7*k+R]]):V[$[f][7*k+R]]))}}for(f=0;f<6;f++){g=n[f][0][1]-n[f][0][0],b=n[f][1][1]-n[f][1][0];if(g<=0||b<=0){var F=Er(f,l);if(0!=F){for(s=0;s<4;s++){var D=ae[f][s];Fr[s]=Math.floor(Br[f][s]+(Br[1^f][D]-Br[f][s])*F),yr[s]=Math.floor(Tr[f][s]+(Tr[1^f][D]-Tr[f][s])*F),M&&(Fr[s]=Ct-Fr[s])}Qr(vr,re[f])>0&&ln(wn,Fr,yr,i)}}else{for(s=0;s<4;s++)Ir(f,s,Fr,yr,n[f][0][Ar[s][0]],n[f][1][Ar[s][1]],M);a<6?ln(wn,Fr,yr,i):(Nr(Or(zr(vr,e),5+B),re[f]),Qr(vr,re[f])>0&&ln(wn,Fr,yr,i))}}for(f=0;f<6;f++)if(Nr(Or(zr(vr,e),5+B),re[f]),Qr(vr,re[f])>0){g=n[f][0][1]-n[f][0][0],b=n[f][1][1]-n[f][1][0];if(g>0&&b>0)for(m=0,k=n[f][1][0];m<b;m++,k++)for(L=0,R=n[f][0][0];L<g;L++,R++){for(s=0;s<4;s++)Ir(f,s,Fr,yr,R+Sr[s][0],k+Sr[s][1],M);1==we?(an(wn,Fr,yr,"#fdfdfd"),ln(wn,Fr,yr,"#fdfdfd"),cn(wn,Fr,yr,f,_[f][7*k+R],V[$[f][7*k+R]])):(an(wn,Fr,yr,V[$[f][7*k+R]]),ln(wn,Fr,yr,V[$[f][7*k+R]]))}if(!p||y)continue;var w=(Br[f][1]-Br[f][0]+Br[f][2]-Br[f][3])/6,P=(Br[f][3]-Br[f][0]+Br[f][2]-Br[f][1])/6,C=(Tr[f][1]-Tr[f][0]+Tr[f][2]-Tr[f][3])/6,X=(Tr[f][3]-Tr[f][0]+Tr[f][2]-Tr[f][1])/6;if(3==o)for(s=0;s<14;s++){for(D=0;D<4;D++)Ir(f,D,Kt[Ot],jt[Ot],$t[s][D][0],$t[s][D][1],!1);if(Jt[Ot]=(w*_t[s][0]+C*_t[s][1])*er[f][s],Vt[Ot]=(P*_t[s][0]+X*_t[s][1])*er[f][s],tr[Ot]=le[f][s%4],s>=12&&(tr[Ot]&=-2),rr[Ot]=s>3?1:0,(Ot>=8&&Ot<=11||Ot>=22&&Ot<=25||Ot>=36&&Ot<=39)&&(rr[Ot]=6),12!=Ot&&26!=Ot&&40!=Ot&&13!=Ot&&27!=Ot&&41!=Ot||(rr[Ot]=7),42==++Ot)break}else if(0==o){if(f!=u&&g>0&&b>0){for(s=7==g?0==n[f][1][0]?0:2:0==n[f][0][0]?3:1,D=0;D<4;D++)Ir(f,D,Kt[Ot],jt[Ot],$t[s][D][0],$t[s][D][1],!1);Jt[Ot]=(w*_t[s][0]+C*_t[s][1])*er[f][s],Vt[Ot]=(P*_t[s][0]+X*_t[s][1])*er[f][s],tr[Ot]=u,rr[Ot]=0,Ot++}}else if(1==o){if(f!=u&&g>0&&b>0){s=7==g?1==n[f][1][0]?0:2:1==n[f][0][0]?3:1;s+=4;for(D=0;D<4;D++)Ir(f,D,Kt[Ot],jt[Ot],$t[s][D][0],$t[s][D][1],!1);Jt[Ot]=(w*_t[s][0]+C*_t[s][1])*er[f][s],Vt[Ot]=(P*_t[s][0]+X*_t[s][1])*er[f][s],tr[Ot]=u,rr[Ot]=1,Ot++}}else if(6==o){if(f!=u&&g>0&&b>0){s=7==g?2==n[f][1][0]?0:2:2==n[f][0][0]?3:1;s+=8;for(D=0;D<4;D++)Ir(f,D,Kt[Ot],jt[Ot],$t[s][D][0],$t[s][D][1],!1);Jt[Ot]=(w*_t[s][0]+C*_t[s][1])*er[f][s],Vt[Ot]=(P*_t[s][0]+X*_t[s][1])*er[f][s],tr[Ot]=u,rr[Ot]=6,Ot++}}else if(7==o&&f!=u&&g>0&&b>0){for(s=7==g?12:13,D=0;D<4;D++)Ir(f,D,Kt[Ot],jt[Ot],$t[s][D][0],$t[s][D][1],!1);Jt[Ot]=(w*_t[s][0]+C*_t[s][1])*er[f][s],Vt[Ot]=(P*_t[s][0]+X*_t[s][1])*er[f][s],tr[Ot]=u,rr[Ot]=7,Ot++}}}function Er(e,t){var r=0,n=e%2,o=u%2;return 0==h?r=a(0==o?0:6):1==h?r=a(0==o?1:5):6==h?r=a(0==o?2:4):7==h&&(r=a(3)),r;function a(e){if(0==n){if(t==e)return e/7;if(t==e+1)return(e+1)/7}else{if(t==e)return(6-e)/7;if(t==e-1)return(7-e)/7}return 0}}function Ir(e,t,r,n,o,a,l){o/=7,a/=7;var f=Br[e][0]+(Br[e][1]-Br[e][0])*o,i=Tr[e][0]+(Tr[e][1]-Tr[e][0])*o,u=Br[e][3]+(Br[e][2]-Br[e][3])*o,h=Tr[e][3]+(Tr[e][2]-Tr[e][3])*o;r[t]=Math.floor(.5+f+(u-f)*a),n[t]=Math.floor(.5+i+(h-i)*a),l&&(r[t]=Ct-r[t])}var Pr=[1,1,-1,-1,-1,1,1,-1,-1,0,1,0,0,1,0,-1],Cr=[];function Xr(e,t,r,o){if(ye){e.fillStyle="black";for(var a=0;a<Cr.length;a+=2)e.fillText(t,r+Cr[a],o+Cr[a+1]);e.fillStyle="white"}else e.fillStyle=n;e.fillText(t,r,o)}var Wr=[-1,3,1,-1,0,2,4,-1],Yr=[];function zr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function qr(e){var t=Math.sqrt(Qr(e,e));return e[0]/=t,e[1]/=t,e[2]/=t,e}function Or(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e}function Qr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Zr(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e}function Nr(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e}function Hr(e,t,r){return e[0]=t[1]*r[2]-t[2]*r[1],e[1]=t[2]*r[0]-t[0]*r[2],e[2]=t[0]*r[1]-t[1]*r[0],e}function Gr(e,t){var r=Math.sin(t),n=Math.cos(t),o=e[1]*n-e[2]*r,a=e[1]*r+e[2]*n;return e[1]=o,e[2]=a,e}function Kr(e,t){var r=Math.sin(t),n=Math.cos(t),o=e[0]*n-e[2]*r,a=e[0]*r+e[2]*n;return e[0]=o,e[2]=a,e}function jr(e,t){var r=Math.sin(t),n=Math.cos(t),o=e[0]*n-e[1]*r,a=e[0]*r+e[1]*n;return e[0]=o,e[1]=a,e}function Jr(e,t,r){return"#"+Vr(e.toString(16))+Vr(t.toString(16))+Vr(r.toString(16))}function Vr(e){return("00"+e).substring(e.length)}function $r(e){for(var t=0,r=0;r<6;r++)for(var n=0;n<16;n++)if(e[r].toLowerCase()=="0123456789abcdef".charAt(n)){t++;break}return 6==t}function _r(e,t,r,n,o){e.beginPath(),e.moveTo(t,r),e.lineTo(t+n,r),e.lineTo(t+n,r+o),e.lineTo(t,r+o),e.lineTo(t,r),e.closePath(),e.clip()}var en=[];function tn(e,t,r,n){switch(r=Math.floor(r),n=Math.floor(n),t){case 0:nn(e,r-en[5],n-en[5],en[3],2.05*en[5]),rn(e,r+en[5],n,-1);break;case 1:nn(e,r+en[1],n-en[5],en[3],2.05*en[5]),rn(e,r-en[1],n,-1);break;case 2:rn(e,r+en[1],n,-1);break;case 3:y?nn(e,r-en[5],n-en[5],2.05*en[5],2.05*en[5]):(nn(e,r-en[9]/2,n-en[7]/2,en[8],1.5*en[5]),nn(e,r-en[2],n-en[5],en[3],2.05*en[5]));break;case 4:rn(e,r-en[2],n,1);break;case 5:nn(e,r-en[6],n-en[5],en[3],2.05*en[5]),rn(e,r-1.5*en[1],n,1);break;case 6:nn(e,r+en[1],n-en[5],en[3],2.05*en[5]),rn(e,r-en[6],n,1);break;case 7:var a=7==Le?dn(o):o;on(e,r-2*Bn,n+Bn,Z,n+Z,a),rn(e,r+2*Bn+Z/2-3*Bn,n+Z/2+Tn,-1);break;case 8:a=8==Le?dn(o):o;on(e,r-2*Bn,n+Bn,Z,n+Z,a),rn(e,r-Bn+Z/2-3*Bn,n+Z/2+Tn,1)}}function rn(e,t,r,n){var o=4.5*Bn,a=[],l=[];a[0]=t,a[1]=t+n,a[2]=t+5*Bn*n,a[3]=t+n,a[4]=t,l[0]=r-o,l[1]=r-o,l[2]=r,l[3]=r+o,l[4]=r+o,function(e,t,r){e.beginPath(),e.moveTo(t[0]+Tn,r[0]+Tn);for(var n=1;n<5;n++)e.lineTo(t[n]+Tn,r[n]+Tn);e.closePath(),e.fillStyle="white",e.strokeStyle="black",e.fill(),e.lineWidth=Sn,e.stroke()}(e,a,l)}function nn(e,t,r,n,o){e.lineWidth=Sn,e.beginPath(),e.rect(t+Tn,r+Tn,n-1,o-1),e.fillStyle="white",e.fill(),e.strokeStyle="black",e.stroke()}function on(e,t,r,n,o,a){e.lineWidth=Sn,e.beginPath(),e.rect(t+Tn,r+Tn,n-1,o-1),e.fillStyle=a,e.fill(),e.strokeStyle="black",e.stroke()}function an(e,t,r,n){e.beginPath(),e.moveTo(t[0],r[0]),e.lineTo(t[1],r[1]),e.lineTo(t[2],r[2]),e.lineTo(t[3],r[3]),e.closePath(),e.strokeStyle=n,e.lineWidth=.7*Bn,e.stroke()}function ln(e,t,r,n){e.beginPath(),e.moveTo(t[0],r[0]),e.lineTo(t[1],r[1]),e.lineTo(t[2],r[2]),e.lineTo(t[3],r[3]),e.closePath(),e.fillStyle=n,e.fill()}var fn,un,hn=[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]];function cn(e,t,r,n,o,a){var l=[],f=[];if(2!=Ae||"#ffffff"!=a){for(var i=0;i<4;i++)l[i]=Math.floor(t[i]+.05*(t[hn[2][i]]-t[i])),f[i]=Math.floor(r[i]+.05*(r[hn[2][i]]-r[i]));0==n&&(o=(o+1)%4),4==n&&(o=(o+3)%4);var u=hn[o][0],h=hn[o][1],c=hn[o][2],s=hn[o][3],v=.26*(l[c]-l[h]),d=.26*(f[c]-f[h]),g=(l[u]-l[h])/2,b=f[h]+(f[u]-f[h])/2,m=f[c]+(f[s]-f[c])/2,M=(l[s]-l[c])/2,p=1^o;e.fillStyle=a,e.beginPath(),e.moveTo(l[u]+(l[s]-l[u])/2,f[u]+(f[s]-f[u])/2),e.lineTo(l[p]+g,b),e.lineTo(l[p]+v+g,b+d),e.lineTo(l[p]+v,f[p]+d),p=(p+1)%4,e.lineTo(l[p]-v,f[p]-d),e.lineTo(l[p]-v+M,m-d),e.lineTo(l[p]+M,m),e.closePath(),e.fill(),e.lineWidth=.6*Bn,e.strokeStyle="black",e.stroke()}}function sn(e){return"white"==e?"#FFFFFF":"black"==e?"#000000":"#808080"}function vn(e){return"#"!=e.substring(0,1)&&(e=sn(e)),(299*parseInt(e.substring(1,3),16)+587*parseInt(e.substring(3,5),16)+114*parseInt(e.substring(5,7),16))/1e3}function dn(e){"#"!=e.substring(0,1)&&(e=sn(e));var t=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),n=parseInt(e.substring(5,7),16);return Jr(t=Math.floor(.7*t),r=Math.floor(.7*r),n=Math.floor(.7*n))}function gn(e,t){if(e>nt)setTimeout(gn,0,e,t);else{if(!w&&(0==ge.length||0==ge[C].length))return y=!1,ke=!0,void Lr();if(!z){for(var r=ge[C];X<r.length;){if(r[X]>=1e3)O=r[X]-1e3;else if(-1!=r[X]){var n=r[X]%4+1,o=Math.floor(r[X]/4)%(qe.length+1),a=Math.floor(r[X]/4/(qe.length+1));Dt($,a,4==n?2:n,o)}X++}return y=!1,ke=!0,Lr(),void nt++}var l,f,i,g,M,p,L=t;b=!1,requestAnimationFrame(function e(){if(B){if(B=!1,p=!1,k)L>0?X>=r.length&&(X=0,et(r)):(O=-1,0==X&&(X=r.length));else if(L>0&&X>=r.length||L<0&&0==X)return m=!1,y=!1,nt++,ke=!0,void Lr();y=!0,ke=!0}if(T&&(T=!1,L<0&&(U=!1,0==X?(U=!0,A=!0):X--),!U)){if(D=!1,-1==r[X]){if(Lr(),!Y)for(l=Date.now();Date.now()-l<1e3;);}else r[X]>=1e3?O=L>0?r[X]-1e3:-1:D=!0;if(D){n=r[X]%4+1,o=Math.floor(r[X]/4)%(qe.length+1);var t=n<3;if(4==n&&(n=2),L<0&&(t=!t,n=4-n),a=Math.floor(r[X]/4/(qe.length+1)),R=!1,de=!0,F=!0,s=0,fe[a]>0&&(t=!t),z){M=Math.PI/2,g=t?1:-1;var x=67*v;2==n&&(M=Math.PI,x=67*d),R=!0,u=a,h=o,yt(a),l=Date.now(),f=l,i=g*M/x,c=0}}else S=!0}U||(D&&(z&&c*g<M?(Lr(),(b||m)&&(S=!0),f=Date.now(),c=i*(f-l)):S=!0),S&&(S=!1,T=!0,D&&(c=0,R=!1,de=!0,Dt($,a,n,o),F=!1,z&&Lr(),Y&&(p=!0)),L>0?(++X<r.length&&r[X]>=1e3&&(O=r[X]-1e3,X++),X==r.length&&(w?function(e){X=0;for(var t=0;t<6;t++)for(var r=0;r<49;r++)$[t][r]=ee[t][r],_[t][r]=te[t][r];me.length>0&&void 0!==me[C]&&tt($,me[C],0,me[C].length,!1);Me.length>0&&void 0!==Me[C]&&tt($,Me[C],0,Me[C].length,!0);et(e)}(r):A=!0)):O=-1,(b||m||p)&&(A=!0)));if(A)return A=!1,B=!0,rt<=nt+1&&(y=!1),ke=!0,0==Le&&lt(),Lr(),w&&(lt(),w=!1),m=!1,nt++,void(1==X&&r[0]>=1e3&&X--);requestAnimationFrame(e)});var D=!1,B=!0,T=!0,S=!1,A=!1,U=!1;r=w?be[0]:ge[C]}}document.addEventListener("touchstart",Rn),document.addEventListener("touchmove",In,{passive:!1}),document.addEventListener("touchend",Ln),document.addEventListener("mousedown",Rn),document.addEventListener("mousemove",In),document.addEventListener("mouseup",Ln),document.addEventListener("contextmenu",Xn);var bn=!1,mn=!0,Mn=document.getElementsByTagName("div"),pn=Mn.length>0&&"wrap"==Mn[0].className;function kn(e){pn?Mn[0].style.overflow=e:document.body.style.overflow=e}function Ln(e){if(bn&&void 0!==e.touches&&(e.preventDefault(),kn("auto")),bn?setTimeout(function(){mn=!0},100):mn=!0,bn=!1,D=!1,N)N=!1,ke=!0,Lr();else if(R&&!F){R=!1,s+=c,c=0;for(var t=s;t<0;)t+=32*Math.PI;var r=Math.floor(8*t/Math.PI)%16;(De||r%4==0||r%4==3)&&(r=Math.floor((r+2)/4),fe[u]>0&&(r=(4-r)%4),s=0,de=!0,Dt($,u,r,h)),Lr()}}function Rn(e){var t=Dn.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top);if(void 0===e.touches)var o=e.clientX,a=e.clientY;else o=e.touches[0].clientX,a=e.touches[0].clientY;o<r||o>r+Ct/Bn||a<n||a>n+(Xt+Z)/Bn||(e.preventDefault(),bn=!0,mn=!1,void 0!==e.touches&&kn("hidden"),fn=r,un=n,zt=Wt=Pn(e),qt=Yt=Cn(e),g=!1,(Le=function(e,t){if(0==Q)return-1;if(ge.length>1&&e>=Ct-2*Z&&e<Ct-Z&&t>=0&&t<Z)return 7;if(ge.length>1&&e>=Ct-Z&&e<Ct&&t>=0&&t<Z)return 8;if(2==Q)return e>=0&&e<Z&&t>=Xt-Z&&t<Xt?0:-1;if(t<Xt)return-1;for(var r=0,n=0;n<7;n++){var o=(Ct-r)/(7-n);if(e>=r&&e<r+o&&t>=Xt&&t<Xt+Z)return n;r+=o}return-1}(Wt,Yt))>=0?(N=!0,3==Le?y?at():M=!M:0==Le?Te>0&&2==Q?1==Be?(Be=!1,at(),lt()):(Be=!0,ot(Wr[Le=6])):(at(),lt()):7==Le||8==Le?(at(),setTimeout(lt,20),C=7==Le?C>0?C-1:ge.length-1:C<ge.length-1?C+1:0):ot(Wr[Le]),ke=!0,Lr()):Re>0&&ge.length>0&&ge[C].length>0&&Yt>Xt-Re&&Yt<=Xt?L&&(at(),Fn(rt++)):(M&&(zt=Wt=Ct-Wt),void 0===e.touches?!p||y||0!=e.button||e.shiftKey||(g=!0):p&&!y&&(g=!0)))}function Fn(e){if(e>nt)setTimeout(Fn,0,e);else{var t=Je(ge[C]),r=Math.floor(((Wt-1)*t*2/(Ct-2)+1)/2);(r=Math.max(0,Math.min(t,r)))>0&&(r=Ve(ge[C],r)),r>X&&tt($,ge[C],X,r-X,!1),r<X&&tt($,ge[C],r,X-r,!0),X=r,D=!0,Lr(),y=!1,nt++}}var yn,Dn,wn,Bn,Tn,Sn,An,Un,xn,En;Yr=[];function In(e){if(bn&&!N){if(void 0!==e.touches&&e.preventDefault(),D){at();var t=Je(ge[C]),r=Math.floor(((Pn(e)-1)*t*2/(Ct-2)+1)/2);return(r=Math.max(0,Math.min(t,r)))>0&&(r=Ve(ge[C],r)),r>X&&tt($,ge[C],X,r-X,!1),r<X&&tt($,ge[C],r,X-r,!0),X=r,void Lr()}var n=M?Ct-Pn(e):Pn(e),o=Cn(e),a=n-Wt,l=o-Yt;if(p&&g&&!R&&!y){zt=n,qt=o;for(var f=0;f<Ot;f++){var i=Kt[f][0],s=Kt[f][1]-i,v=Kt[f][3]-i,d=jt[f][0],b=jt[f][1]-d,m=jt[f][3]-d,k=(m*(Wt-i)-v*(Yt-d))/(s*m-v*b),L=(-b*(Wt-i)+s*(Yt-d))/(s*m-v*b);if(k>0&&k<1&&L>0&&L<1){if(a*a+l*l<144)return;if(Ht=Jt[f],Gt=Vt[f],Math.abs(Ht*a+Gt*l)/Math.sqrt((Ht*Ht+Gt*Gt)*(a*a+l*l))>.75){R=!0,u=tr[f],h=rr[f];break}}}g=!1,Wt=zt,Yt=qt}a=(n-Wt)/Bn,l=(o-Yt)/Bn,!R||y?(qr(Zr(ie,Or(zr(Yr,ue),-.016*a))),qr(Hr(ue,he,ie)),qr(Zr(ie,Or(zr(Yr,he),.016*l))),qr(Hr(he,ie,ue)),Wt=n,Yt=o):(de&&yt(u),c=.03*(Ht*a+Gt*l)/Math.sqrt(Ht*Ht+Gt*Gt)),Lr()}}function Pn(e){return void 0===e.touches?(e.clientX-fn)*Bn:(e.touches[0].clientX-fn)*Bn}function Cn(e){return void 0===e.touches?(e.clientY-un)*Bn:(e.touches[0].clientY-un)*Bn}function Xn(e){mn||e.preventDefault()}function Wn(){clearTimeout(yn),yn=setTimeout(function(){Yn(),ke=!0,Lr()},20)}function Yn(){Xt=En.clientHeight-1,Ct=En.clientWidth-1,Dn.style.width=Ct+"px",Dn.style.height=Xt+"px",Bn=devicePixelRatio,Tn=Bn/2,Xt=Math.floor(Xt*Bn),Ct=Math.floor(Ct*Bn),Dn.width=Ct,Dn.height=Xt,Sn=Bn,Z=Math.floor(An*Bn),Re=Math.floor(Un*Bn),Fe=Math.floor(xn*Bn);for(var e=1;e<10;e++)en[e]=e*Bn;for(e=0;e<Pr.length;e++)Cr[e]=Pr[e]*Bn;1==Q&&(Xt-=Z)}function zn(e,t){var r,n,o=["R","L","F","B","U","D"],a=["","m","n"],l=["","2","'"],f=-1,i=-1,u=-1,h="";0==t&&(t=10*e);for(var c=0;c<t;c++){for(;f==i||Math.floor(f/2)==Math.floor(i/2)&&f==u;)f=Math.floor(6*Math.random());u=i,i=f,r=Math.floor(3*Math.random()),e<=3?h+=""+o[f]+l[r]+" ":(n=Math.floor(Math.random()*(e>4?3:2)),5==e&&1==n&&(n=0),h+=""+o[f]+a[n]+l[r]+" ")}return h}window.addEventListener("resize",Wn);var qn=[];function On(){at(),document.removeEventListener("touchstart",Rn),document.removeEventListener("touchmove",In),document.removeEventListener("touchend",Ln),document.removeEventListener("mousedown",Rn),document.removeEventListener("mousemove",In),document.removeEventListener("mouseup",Ln),document.removeEventListener("contextmenu",Xn),window.removeEventListener("resize",Wn)}!function(){Dn=document.createElement("canvas"),void 0!==e&&function(){for(var t=e.split("&"),r=0;r<t.length;r++){var n=t[r].split("=");void 0!==n[1]&&(qn[n[0]]=decodeURIComponent(n[1].trim()))}}();var t=Ce("id");if(null!=t)(En=document.getElementById(t)).innerHTML="";else if(null!=document.currentScript)En=document.currentScript.parentNode;else{var r=document.getElementsByTagName("script"),n=r[r.length-1];En=n.parentNode}null!=En.id&&"undefined"!=typeof removeListeners&&(removeListeners[En.id]=On);for(var o=0;o<6;o++)$[o]=[],_[o]=[],ee[o]=[],te[o]=[];for(o=0;o<42;o++)Kt[o]=[],jt[o]=[];C=0,s=0,Ie()}()}